<mat-form-field class="example-full-width">
  <input type="text" placeholder="Select Courses" aria-label="Select Courses"
  matInput [matAutocomplete]="auto" [formControl]="courseControl">
  <mat-hint>Enter text to find a course by name</mat-hint>
</mat-form-field>

<mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
	<mat-option *ngFor="let course of filteredCourses | async" [value]="selectedCourses">
		<div (click)="optionClicked($event, course)">
			<mat-checkbox [checked]="course.selected" (change)="toggleSelection(course)" (click)="$event.stopPropagation()">
				{{ course.clasa.name }}
			</mat-checkbox>
		</div>
	</mat-option>
</mat-autocomplete>

<br><br>

<label>Selected Courses:</label>
<mat-list dense>
	<mat-list-item *ngIf="selectedCourses?.length === 0">(None)</mat-list-item>
	<mat-list-item *ngFor="let course of selectedCourses">
		{{ course.clasa.name }}
	</mat-list-item>
</mat-list>



<table *ngIf="dataSource" mat-table [dataSource] = "dataSource" class="mat-elevation-z8">

  <!-- Checkbox Column -->
  <ng-container matColumnDef="select">
    <th mat-header-cell *matHeaderCellDef>
      <mat-checkbox (change)="$event ? masterToggle() : null"
                    [checked]="selection.hasValue() && isAllSelected()"
                    [indeterminate]="selection.hasValue() && !isAllSelected()"
                    [aria-label]="checkboxLabel()">
      </mat-checkbox>
    </th>
    <td mat-cell *matCellDef="let row">
      <mat-checkbox (click)="$event.stopPropagation()"
                    (change)="$event ? selection.toggle(row) : null"
                    [checked]="selection.isSelected(row)"
                    [aria-label]="checkboxLabel(row)">
      </mat-checkbox>
    </td>
  </ng-container>

  <ng-container matColumnDef="position">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Num. </th>
    <td mat-cell *matCellDef="let element; let i = index">{{i}}</td>
  </ng-container>
  
  <ng-container matColumnDef="firstName">
    <th mat-header-cell *matHeaderCellDef> First Name </th>
    <td mat-cell *matCellDef="let element"> {{element.user.firstName}} </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="lastName">
    <th mat-header-cell *matHeaderCellDef> Last Name </th>
    <td mat-cell *matCellDef="let element"> {{element.user.lastName}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="group">
    <th mat-header-cell *matHeaderCellDef> Group </th>
    <td mat-cell *matCellDef="let element"> {{element.grupa.number}}{{element.grupa.seria.name}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"
      (click)="selection.toggle(row)">
  </tr>
</table>
